<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hyper-parameter Management in Deep Learning Projects | Mohammad</title>
    <meta name="author" content="Mohammad  Nazeri">
    <meta name="description" content="Hello there, I'm Mohammad. Welcome to my page!!!
">
    <meta name="keywords" content="deep-learning, computer-vision, robotics, imitation-learning, social-navigation">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://mhnazeri.github.io/blog/2020/parameter_management/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/">Mohammad</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/publications/">publications</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Hyper-parameter Management in Deep Learning Projects</h1>
    <p class="post-meta">May 15, 2020</p>
    <p class="post-tags">
      <a href="/blog/2020"> <i class="fas fa-calendar fa-sm"></i> 2020 </a>
        ·  
        <a href="/blog/tag/deep-learning">
          <i class="fas fa-hashtag fa-sm"></i> deep_learning</a>  
          <a href="/blog/tag/programming">
          <i class="fas fa-hashtag fa-sm"></i> programming</a>  
          
        ·  
        <a href="/blog/category/programming">
          <i class="fas fa-tag fa-sm"></i> programming</a>  
          

    </p>
  </header>

  <article class="post-content">
    <p>Deep Learning (DL) projects have a plethora of hyper-parameters. Especially in research, they are like knobs that should be adjusted to yields the best results. There are multiple ways one can manage these hyper-parameters in Python. In this article, I’m going to discuss 3 common approaches.</p>

<h1 id="argument-parser">Argument Parser</h1>
<p>The first approach which is very easy and common is to use Python’s built-in argument parser module. All we need to do is to define some parameters preferably with default values or pass/change them during the program execution. Let’s create a simple script called <code class="language-plaintext highlighter-rouge">main.py</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># import the module
</span><span class="kn">import</span> <span class="n">argparse</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="c1"># create a parser object
</span>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="c1"># define some arguments
</span>    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--batch_size</span><span class="sh">'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--num_epochs</span><span class="sh">'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>

    <span class="c1"># access the define arguments in project
</span>    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">batch_size</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">num_epochs</span><span class="p">)</span>
</code></pre></div></div>

<p>When experimenting with different values for hyper-parameters, we can change the value of each argument when running the script:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python main.py <span class="nt">--batch_size</span> 32 <span class="nt">--num_epochs</span> 100
</code></pre></div></div>

<p>Arguments that have a double dash (<code class="language-plaintext highlighter-rouge">--</code>) at the beginning of their name are optional. If you don’t put <code class="language-plaintext highlighter-rouge">--</code> at the beginning of the argument name, it means that the argument is positional and should be provided when executing the script. You can read more about <code class="language-plaintext highlighter-rouge">argparse</code> module at <a href="https://docs.python.org/3/library/argparse.html" rel="external nofollow noopener noopener noreferrer" target="_blank">official docs</a>.</p>

<p>This approach is effortless to implement and can be easily changed in experiments with different values. But, it has some downsides too. If the project has a lot of hyper-parameters to handle, which in research, it is usually the case, this list can become extensive. One way to circumvent this issue is to create a separate python file to hold and parse these parameters. Then, the only thing that needs to be done, is to change the default value when you want to experiment with other  values.</p>

<h1 id="using-auxiliary-file-formats">Using Auxiliary File Formats</h1>
<p>We can also use an extra file (with different extension) to manage the hyper-parameters. Here, I’m going to introduce 3 different common files to store hyper-parameters.</p>

<h2 id="ini-file">
<code class="language-plaintext highlighter-rouge">.ini</code> File</h2>
<p>Python has a built-in module to parse <code class="language-plaintext highlighter-rouge">.ini</code> files, therefore using <code class="language-plaintext highlighter-rouge">.ini.</code> file to store parameters in Python is easy. Also, in <code class="language-plaintext highlighter-rouge">.ini</code> files we can group hyper-parameters based on their usage. Let’s create a <code class="language-plaintext highlighter-rouge">config.ini</code> file:</p>
<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[TRAINING]</span>
<span class="py">epochs</span> <span class="p">=</span> <span class="s">200</span>
<span class="py">learning_rate</span> <span class="p">=</span> <span class="s">1e-4</span>

<span class="nn">[DIRECTORIES]</span>
<span class="py">root</span> <span class="p">=</span> <span class="s">./</span>
<span class="py">save_model</span> <span class="p">=</span> <span class="s">./save</span>
<span class="py">log</span> <span class="p">=</span> <span class="s">./logs</span>
</code></pre></div></div>
<p>Here, we separated the parameters into two groups, one is related to training the model, and the other is related to managing directories. We need a helper function to help us parse the <code class="language-plaintext highlighter-rouge">config.ini</code> file.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># import the required module
</span><span class="kn">import</span> <span class="n">configparser</span>


<span class="k">def</span> <span class="nf">config_parser</span><span class="p">(</span><span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sh">"""</span><span class="s">A helper function which receive the config category name,
       and returns a dictionary containing the values of 
       hyper-parameters of the specific category
    </span><span class="sh">"""</span>
    <span class="c1"># create a config parser object
</span>    <span class="n">config</span> <span class="o">=</span> <span class="n">configparser</span><span class="p">.</span><span class="nc">ConfigParser</span><span class="p">()</span>
    <span class="c1"># pass it the absolute address of config.ini file
</span>    <span class="n">config</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="sh">"</span><span class="s">config.ini</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># if the key present in the config file, return it
</span>        <span class="k">return</span> <span class="n">config</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span>
    <span class="k">except</span> <span class="nb">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Module name should be one of the:</span><span class="se">\n</span><span class="s"> </span><span class="sh">"</span>
              <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">config</span><span class="p">.</span><span class="nf">sections</span><span class="p">()</span><span class="si">}</span><span class="s"> not </span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p>Now that we have a helper function to parse the config file, we can use it wherever we want in the main script to obtain required hyper-parameters:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">DIRECTORIES</span> <span class="o">=</span> <span class="nf">config_parser</span><span class="p">(</span><span class="sh">"</span><span class="s">DIRECTORIES</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">TRAINING</span> <span class="o">=</span> <span class="nf">config_parser</span><span class="p">(</span><span class="sh">"</span><span class="s">TRAINING</span><span class="sh">"</span><span class="p">)</span>

    <span class="c1"># treat the files like dictionary
</span>    <span class="nf">print</span><span class="p">(</span><span class="n">DIRECTORIES</span><span class="p">[</span><span class="sh">"</span><span class="s">root</span><span class="sh">"</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">DIRECTORIES</span><span class="p">[</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="n">TRAINING</span><span class="p">[</span><span class="sh">"</span><span class="s">epochs</span><span class="sh">"</span><span class="p">]))</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">float</span><span class="p">(</span><span class="n">TRAINING</span><span class="p">[</span><span class="sh">"</span><span class="s">learning_rate</span><span class="sh">"</span><span class="p">]))</span>
</code></pre></div></div>
<p>One thing that should be noted here is that the config parser treats each value as a string, therefore, we need to convert it to the desired data type. And it only supports one level deep hierarchy. But the bright side is that it keeps your main script cleaner and shorter.</p>

<h2 id="python-script-as-a-config-manager">Python Script as a Config Manager</h2>
<p>We can also use an auxiliary python file to hold hyper-parameters. Create a file called <code class="language-plaintext highlighter-rouge">configs.py</code> containing only a dictionary:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">epoch</span><span class="sh">"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">learning_rate</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1e-4</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">root</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">./</span><span class="sh">"</span>
<span class="p">}</span>
</code></pre></div></div>
<p>We can add all model hyper-parameters as a dictionary. For different parts of the model we can create different dictionaries and use them as follows:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">configs</span> <span class="kn">import</span> <span class="n">config</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">epoch</span><span class="sh">"</span><span class="p">],</span> <span class="nf">type</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">epoch</span><span class="sh">"</span><span class="p">]))</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">root</span><span class="sh">"</span><span class="p">],</span> <span class="nf">type</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">root</span><span class="sh">"</span><span class="p">]))</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">learning_rate</span><span class="sh">"</span><span class="p">],</span> <span class="nf">type</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">learning_rate</span><span class="sh">"</span><span class="p">]))</span>
</code></pre></div></div>
<p>In contrast to <code class="language-plaintext highlighter-rouge">.ini</code> file, the data types are reserved and there is no need for conversion. As easy as this approach is, but it is not very common. The reason for this is that it is not language agnostic.</p>

<h2 id="yaml-files">YAML Files</h2>
<p>YAML file format is increasingly becoming more popular due to readability and conciseness. There are multiple third-party libraries to handle YAML files in Python. Create <code class="language-plaintext highlighter-rouge">config.yaml</code> file:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Datasets</span><span class="pi">:</span>
  <span class="c1"># flip dataset consists of 256 images</span>
  <span class="na">flip-dataset</span><span class="pi">:</span>
    <span class="na">batch</span><span class="pi">:</span> <span class="m">32</span>
    <span class="na">shuffle</span><span class="pi">:</span> <span class="s">True</span>
  <span class="c1"># flot dataset consists of 1024 images</span>
  <span class="na">flop-dataset</span><span class="pi">:</span>
    <span class="na">batch</span><span class="pi">:</span> <span class="m">64</span>
    <span class="na">shuffle</span><span class="pi">:</span> <span class="s">False</span>
    
<span class="na">Directories</span><span class="pi">:</span>
  <span class="na">root</span><span class="pi">:</span> <span class="s2">"</span><span class="s">./"</span>
  <span class="na">logs</span><span class="pi">:</span> <span class="s2">"</span><span class="s">logs/"</span>
</code></pre></div></div>

<p>As we can see, it supports multi-level hierarchy configs and even comments! In the above case, we have two different datasets, <code class="language-plaintext highlighter-rouge">flip-dataset</code> and <code class="language-plaintext highlighter-rouge">flop-dataset</code> with different configurations. To parse this file, we need a third-party library such as <a href="https://omegaconf.readthedocs.io/en/latest/index.html" rel="external nofollow noopener noopener noreferrer" target="_blank"><em>OmegaConf</em></a>, <a href="https://pyyaml.org" rel="external nofollow noopener noopener noreferrer" target="_blank"><em>PyYAML</em></a> or <a href="https://confuse.readthedocs.io/en/latest/" rel="external nofollow noopener noopener noreferrer" target="_blank"><em>Confuse</em></a>. Here, I’m going to use PyYAML. Install it using your favorite Python package manager:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install</span> <span class="nt">--user</span> pyyaml
</code></pre></div></div>
<p>We can use it in our project as follow:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">yaml</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">config.yaml</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Loader</span><span class="o">=</span><span class="n">yaml</span><span class="p">.</span><span class="n">FullLoader</span><span class="p">)</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">Datasets</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">flip-dataset</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">batch</span><span class="sh">"</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">Datasets</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">flip-dataset</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">shuffle</span><span class="sh">"</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">Datasets</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">flop-dataset</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">batch</span><span class="sh">"</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">Directories</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">logs</span><span class="sh">"</span><span class="p">])</span>
</code></pre></div></div>
<p>The good thing is that it also reserves data types and is language agnostic. One benefit of <a href="https://omegaconf.readthedocs.io/en/latest/index.html" rel="external nofollow noopener noopener noreferrer" target="_blank"><em>OmegaConf</em></a> with respect to other libraries is that the parameters are treated as attributes and we can call them like attributes of a class by using <code class="language-plaintext highlighter-rouge">.</code> notation. One think that should be kept in mind is that, if we want using attribute calling notation, we should be careful with our naming. For example in the config above, name <code class="language-plaintext highlighter-rouge">flip-dataset</code> is not a valid python variable name (why?). Instead use underscores like <code class="language-plaintext highlighter-rouge">flip_dataset</code>.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">omegaconf</span> <span class="kn">import</span> <span class="n">OmegaConf</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">OmegaConf</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="sh">"</span><span class="s">config.yaml</span><span class="sh">"</span><span class="p">)</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">Datasets</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">Directories</span><span class="p">.</span><span class="n">logs</span><span class="p">)</span>
</code></pre></div></div>

<p>You can use different file formats of your choice such as <code class="language-plaintext highlighter-rouge">JSON</code> and <code class="language-plaintext highlighter-rouge">XML</code> to declutter the project codebase. But managing nested configs with such formats is exasperating.</p>

<h1 id="hydra">Hydra</h1>
<p>In situations where we have a huge project with a plethora of hyper-parameters, multiple datasets, multiple optimizer and we want to experiment with different values but we are short on time, <a href="https://hydra.cc" rel="external nofollow noopener noopener noreferrer" target="_blank"><strong>Hydra</strong></a> is the hero we want. It is “a framework for elegantly configuring complex applications” developed at Facebook. It uses YAML, therefore inherent its advantages. It also gives us the ability to run multiple experiments in parallel with different configurations. We can put all our configuration files in a separate directory such as <code class="language-plaintext highlighter-rouge">configs</code>. We can also create different folders to hold different configurations (called <code class="language-plaintext highlighter-rouge">config group</code>) for different parts of the project to prevent extensive config files and easily alternate between them. Another cool feature of <em>hydra</em> is that you can treat YAML keys as arguments and change them when executing the program like <code class="language-plaintext highlighter-rouge">argparse</code> module. If you see the need to use <em>hydra</em> in your project, its <a href="https://hydra.cc/docs/tutorial/simple_cli/" rel="external nofollow noopener noopener noreferrer" target="_blank">tutorial page</a> is comprehensive. It is a feature-packed framework and writing a tutorial about it is out of scope of this short article.</p>

<h1 id="wrapping-up">Wrapping up</h1>
<p>Although it seems that the approaches above are incrementally get better and better, but actually, it is not the case. All of these approaches have their own pros and cons. Choosing one is highly correlated to your project’s size and needs. I hope by showing simple examples I could give you an insight on how to choose an approach. So, which one is your favorite approach?</p>

  </article>


  
    
    <br>
    <hr>
    <br>
    <ul class="list-disc pl-8"></ul>

    <!-- Adds related posts to the end of an article -->
    <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2>
    <p class="mb-2">Here are some more articles you might like to read next:</p>
  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2020/sharinGAN/">SharinGAN</a>
  </li>

</div>

    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2023 Mohammad  Nazeri. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener noopener noreferrer" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener noopener noreferrer">GitHub Pages</a>.

      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@/dist/medium-zoom.min.js" integrity="" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
